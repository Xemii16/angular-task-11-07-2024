<div class="register-page">
    <div class="register-box">
        <p>Реєстрація</p>
        <form class="form-box" [formGroup]="registerForm" (submit)="onSubmit()">
            <mat-form-field appearance="outline" subscriptSizing="dynamic" hideRequiredMarker="true">
                <mat-label>Електронна пошта</mat-label>
                <input matInput type="email" formControlName="email" required autocomplete="email">
                @if(registerForm.get("email")?.invalid) {
                    <mat-error>{{errorHandlers.email.getErrorMessage()}}</mat-error>
                }
            </mat-form-field>
            <div class="same-information-box">
                <mat-form-field appearance="outline" subscriptSizing="dynamic" hideRequiredMarker="true">
                    <mat-label>Ім'я</mat-label>
                    <input matInput type="text" formControlName="firstName" required autocomplete="given-name">
                    @if(registerForm.get("firstName")?.invalid) {
                        <mat-error>{{errorHandlers.firstName.getErrorMessage()}}</mat-error>
                    }
                </mat-form-field>
                <mat-form-field appearance="outline" subscriptSizing="dynamic" hideRequiredMarker="true">
                    <mat-label>Прізвище</mat-label>
                    <input matInput type="text" formControlName="lastName" required autocomplete="family-name">
                    @if(registerForm.get("lastName")?.invalid) {
                        <mat-error>{{errorHandlers.lastName.getErrorMessage()}}</mat-error>
                    }
                </mat-form-field>
            </div>
            <div class="same-information-box">
                <mat-form-field appearance="outline" subscriptSizing="dynamic" hideRequiredMarker="true">
                    <mat-label>Пароль</mat-label>
                    <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" required autocomplete="new-password">
                    <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Сховати пароль'" [attr.aria-pressed]="hidePassword">
                        <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
                    @if(registerForm.get("password")?.invalid) {
                        <mat-error>{{errorHandlers.password.getErrorMessage()}}</mat-error>
                    }
                </mat-form-field>
                <mat-form-field appearance="outline" subscriptSizing="dynamic" hideRequiredMarker="true">
                    <mat-label>Повторіть пароль</mat-label>
                    <input matInput type="password" [formControl]="confirmPassword" required autocomplete="new-password">
                    @if(confirmPassword.invalid) {
                        <mat-error>{{errorHandlers.confirmPassword.getErrorMessage()}}</mat-error>
                    }
                </mat-form-field>
            </div>
            <div class="register-buttons">
                <a mat-button color="primary" routerLink="/login">Скасувати</a>
                <button type="submit" mat-flat-button color="primary">Зареєструватися</button>
            </div>
        </form>
    </div>
</div>
